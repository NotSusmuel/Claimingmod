import{u as e,cw as t,b7 as n,aJ as a,aw as s,ai as r,b4 as i,q as o,A as u,$ as c}from"./index_3.11.0.22--2602021337_b7dc42e999.js";(function(e,t){const n=E,a=e();while(!![])try{const e=-parseInt(n(338))/1+-parseInt(n(364))/2*(parseInt(n(342))/3)+parseInt(n(385))/4+parseInt(n(349))/5+-parseInt(n(345))/6+-parseInt(n(357))/7*(parseInt(n(373))/8)+-parseInt(n(367))/9*(-parseInt(n(356))/10);if(e===t)break;else a["push"](a["shift"]())}catch(s){a["push"](a["shift"]())}})(p,208290);function p(){const e=["setArchive","prototype","setStatus","__proto__","status","114CyxZrA","CREATE_EMPTY_MESSAGE","constructor","6044103bPJDMO","couldNotArchiveMessageError","getUserProfile","(((.+)+)+)+$","inboxMessages","messageRecipient","697352ZOJZBZ","exception","apply","DELETE_DISPLAY_PERIOD","UPDATE_MESSAGE","updateStats","log","role","emit","outputContext","CREATE_DISPLAY_PERIOD","return (function() ","682360WVtQHU","toString","draftMessages","isInPrintMode","error","update","112786HYxKTd","BULK_UPDATE_ROLE_MESSAGE_RECIPIENT","search","bind","9987AclOEB","displayPeriod","UPDATE_MESSAGE_STATUS","1908570LpjnEE","UPDATE_MESSAGE_RECIPIENT","getIRI",'{}.constructor("return this")( )',"1677215YkVehb","None","console","FETCH_MESSAGE_DETAIL","getInstance","isRead","message","10vmNVdj","28OVBgQT","totalCount"];p=function(){return e};return p()}const l=function(){let e=!![];return function(t,n){const a=e?function(){if(n){const e=n["apply"](t,arguments);return n=null,e}}:function(){};return e=![],a}}(),m=l(void 0,(function(){const e=E;return m[e(386)]()[e(340)](e(370))[e(386)]()[e(366)](m)[e(340)](e(370))}));function E(e,t){const n=p();return E=function(e,t){e-=335;let a=n[e];return a},E(e,t)}m();const d=function(){let e=!![];return function(t,n){const a=e?function(){const e=E;if(n){const a=n[e(375)](t,arguments);return n=null,a}}:function(){};return e=![],a}}(),g=d(void 0,(function(){const e=E,t=function(){const e=E;let t;try{t=Function(e(384)+e(348)+");")()}catch(n){t=window}return t},n=t(),a=n[e(351)]=n[e(351)]||{},s=[e(379),"warn","info",e(336),e(374),"table","trace"];for(let r=0;r<s["length"];r++){const t=d["constructor"][e(360)][e(341)](d),n=s[r],i=a[n]||t;t[e(362)]=d["bind"](d),t[e(386)]=i[e(386)][e(341)](i),a[n]=t}}));g();function I({withLivecycle:p=!![],currentInstance:l}={}){const m=E,d=e(),g=t(),I=n({resourceName:"messageDefault",mutations:{create:{messageNew:{mutation:r["message"][m(365)],wrapParamsIn:"input"},messageClone:{mutation:r["message"][m(365)],wrapParamsIn:"input"},createDisplayPeriod:{mutation:r[m(343)][m(383)],wrapParamsIn:"input"}},update:{messageUpdate:{mutation:r[m(355)][m(377)],wrapParamsIn:"input",onDone:e=>{if(!e?.["id"])return;g["emit"]("messageUpdated",e)}},messageRecipientArchive:{mutation:r["messageRecipient"]["SET_ARCHIVE"],wrapParamsIn:"input",onDone:e=>{const t=m;if(!e?.["id"])return;g[t(381)]("messageRecipientUpdated",e)}},messageSetReadState:{mutation:r["message"]["SET_READ_STATE"],buildVariables:(e,t)=>({message:e,isRead:t[m(354)]})},messageStatus:{mutation:r[m(355)][m(344)],buildVariables:(e,t)=>({message:e,status:t[m(363)]})},messageRecipient:{mutation:r[m(372)][m(346)],wrapParamsIn:"input"},bulkUpdateRoleMessageRecipient:{mutation:r[m(372)][m(339)],wrapParamsIn:"input"}},delete:{deleteDisplayPeriod:{mutation:r[m(343)][m(376)],wrapParamsIn:"input"}}},queries:{detail:{query:a[m(355)][m(352)],params:()=>({authLevel:u[m(353)]()[m(369)]()["currentMsgAuthLevel"]}),buildVariables:(e,t)=>({id:e,authLevel:t["authLevel"],outputContext:t[m(382)]}),fetchPolicy:s()[m(335)]["value"]?"cache-first":"network-only"},recipientByRole:{query:a[m(355)]["FETCH_RECIPIENTS_BY_ROLE"],buildVariables:(e,t)=>({messageId:e,role:t[m(380)]}),fetchPolicy:"no-cache",onDone:e=>{!e&&o(d["couldNotFetchMessageRecipients"])}},messageSidebarStats:{query:a[m(355)]["FETCH_SIDEBAR_STATS"],params:()=>({me:u[m(353)]()[m(347)]()}),onDone:e=>{const t=m;c()[t(378)]({inbox:e[t(371)]?.[t(358)]??0,drafts:e[t(387)]?.[t(358)]??0})},rawResult:!![]}},groups:["message"],withLivecycle:p,currentInstance:l});return I[m(359)]=async(e,t,n)=>{const a=m;await I["update"]({id:e,params:{archive:t??i[a(350)]},mutationKey:"messageRecipientArchive",onDone:e=>{const t=a;e?.["id"]?n?.():o(d[t(368)])},onError:()=>{o(d["couldNotArchiveMessageError"])}})},I[m(361)]=async(e,t,n)=>{const a=m;await I[a(337)]({id:e,params:{status:t},mutationKey:"messageStatus",onDone:e=>{if(!e?.["id"])return;n?.()}})},I}export{I as u};
