import{n as e,p as t,d1 as r,d2 as s,G as n,cr as a,bh as o}from"./index_3.11.0.22--2602021337_b7dc42e999.js";const i=new WeakMap;function u(u,f,c={}){const{mode:l="replace",route:p=e(),router:d=t(),transform:m}=c;let h=e=>e;let y=e=>e;if(typeof m==="function")h=m;else if(m){if(m.get)h=m.get;if(m.set)y=m.set}if(!i.has(d))i.set(d,new Map);const g=i.get(d);let v=p.params[u];r((()=>{v=void 0}));let q;const b=s(((e,t)=>{q=t;return{get(){e();return h(v!==void 0&&v!==""?v:a(f))},set(e){e=y(e);if(v===e)return;v=e===a(f)||e===null?void 0:e;g.set(u,e===a(f)||e===null?void 0:e);t();o((()=>{if(g.size===0)return;const e=Object.fromEntries(g.entries());g.clear();const{params:t,query:r,hash:s}=p;d[a(l)]({params:{...t,...e},query:r,hash:s})}))}}}));n((()=>p.params[u]),(e=>{if(v===h(e))return;v=e;q()}),{flush:"sync"});return b}const f=new WeakMap;function c(i,u,c={}){const{mode:l="replace",route:p=e(),router:d=t(),transform:m}=c;let h=e=>e;let y=e=>e;if(typeof m==="function")h=m;else if(m){if(m.get)h=m.get;if(m.set)y=m.set}if(!f.has(d))f.set(d,new Map);const g=f.get(d);let v=p.query[i];r((()=>{v=void 0}));let q;const b=s(((e,t)=>{q=t;return{get(){e();return h(v!==void 0?v:a(u))},set(e){e=y(e);if(v===e)return;v=e===a(u)?void 0:e;g.set(i,e===a(u)?void 0:e);t();o((()=>{if(g.size===0)return;const e=Object.fromEntries(g.entries());g.clear();const{params:t,query:r,hash:s}=p;d[a(l)]({params:t,query:{...r,...e},hash:s})}))}}}));n((()=>p.query[i]),(e=>{if(v===h(e))return;v=e;q()}),{flush:"sync"});return b}export{c as a,u};
