import{b5 as n,T as t,cy as e,aG as r,cG as o,aT as s,b7 as a,aJ as i,b8 as c}from"./index_3.11.0.22--2602021337_b7dc42e999.js";import{s as u}from"./statusToInt_3.11.0.22--2602021337_b7dc42e999.js";(function(n,t){const e=v,r=n();while(!![])try{const n=-parseInt(e(233))/1*(parseInt(e(249))/2)+parseInt(e(244))/3*(parseInt(e(224))/4)+parseInt(e(275))/5+parseInt(e(262))/6+-parseInt(e(260))/7*(-parseInt(e(225))/8)+parseInt(e(223))/9*(-parseInt(e(254))/10)+parseInt(e(246))/11*(-parseInt(e(234))/12);if(n===t)break;else r["push"](r["shift"]())}catch(o){r["push"](r["shift"]())}})(g,363461);const l=function(){let n=!![];return function(t,e){const r=n?function(){if(e){const n=e["apply"](t,arguments);return e=null,n}}:function(){};return n=![],r}}(),p=l(void 0,(function(){const n=v;return p[n(283)]()[n(268)](n(230))[n(283)]()[n(267)](p)[n(268)]("(((.+)+)+)+$")}));p();const d=function(){let n=!![];return function(t,e){const r=n?function(){if(e){const n=e["apply"](t,arguments);return e=null,n}}:function(){};return n=![],r}}(),f=d(void 0,(function(){const n=v;let t;try{const e=Function(n(270)+'{}.constructor("return this")( ));');t=e()}catch(o){t=window}const e=t[n(238)]=t[n(238)]||{},r=[n(264),n(229),n(245),n(263),n(284),n(250),"trace"];for(let s=0;s<r["length"];s++){const t=d[n(267)][n(232)][n(247)](d),o=r[s],a=e[o]||t;t[n(235)]=d[n(247)](d),t[n(283)]=a["toString"][n(247)](a),e[o]=t}}));function g(){const n=["includes","7dgkBHK","contextIri","3613914IZJKQA","error","log","auth","all","constructor","search","resourceName","return (function() ","convertTodoRecipientsToCalendarWeek","resolve","endDate","filter","313885rDNEPI","Agenda","None","outputContext","addAgendaEntriesToCalendarWeek","iri","calendarView","replaceParams","toString","exception","calendarWeek","36JuJrYP","228584lQlFqc","4516296GfvwxR","length","tags","stringify","warn","(((.+)+)+)+$","convertRecipientsToCalendarWeek","prototype","8275LgkYjI","13980QzVWkn","__proto__","ToDo","isMe","console","metadata","generateEmptyWeek","personAgendaEntryPersonCollectionHandler","person","messageAuthLevel","3tAzPYj","info","3278CMDDsw","bind","appointmentRecipientPersonCollectionHandler","48ukQctO","table","types","items","personIRI","943870HICkDA","registerPagination","ownershipTypes","segment","todoPersonCollectionHandler"];g=function(){return n};return g()}f();function v(n,t){const e=g();return v=function(n,t){n-=222;let r=e[n];return r},v(n,t)}const I=t();const h=async(t,a,i)=>{const c=v,l=i[c(240)](i[c(281)]),p=n["toValidGraphQlStartDate"](i["startDate"]),d=n["toValidGraphQlEndDate"](i[c(273)]),f=l[c(239)]?.[c(253)]??I[c(265)][c(242)]["id"]??null,g=I[c(265)]["personProfile"]["currentMsgAuthLevel"]??0;let h=e[c(277)];for(const n of l["filter"]?.["ownershipRoles"]??[]){const t=parseInt(n,10);if(!isNaN(t))h|=t}const m=l[c(274)]?.[c(256)]??[],y=m["includes"]("mine"),P=m[c(259)]("others"),w=l[c(274)]?.[c(251)]??[],T=w["includes"](r[c(276)]["toString"]()),k=w["includes"](r[c(236)][c(283)]()),_=w[c(259)]("1000"),A=(()=>{const n=c;if(!T&&!_||!y&&!P)return Promise[n(272)](![]);const e=!T&&_?"0":void 0,r=T&&!_?"0":void 0,a={start:p,end:d,statusList:[u(o["Published"])],role:h,erTtId:e,erTtIdNe:r,outputContext:l[n(278)],tagsList:l[n(274)]?.[n(227)],messageAuthLevel:void 0,segment:void 0,ownershipTypes:void 0,contextIri:void 0};return l["metadata"]?.[n(237)]&&g&&!P&&(a[n(243)]=g),y&&!P?a[n(280)]=f:(a[n(257)]="filteredAppointmentsForPerson",a[n(256)]=JSON[n(228)](m),a[n(261)]=f),t[n(248)][n(282)](a),new Promise((async e=>{const r=n;await t[r(248)]["registerPagination"]({onDone:n=>{const t=r;if(!n)return;l[t(222)]=s[t(231)](l[t(222)],n,"person:default")}}),e()}))})(),C=(()=>{const n=c;if(l[n(274)]?.["tags"]["length"]>0||!l[n(274)]?.[n(251)][n(259)]("1100")||!m[n(259)]("mine"))return Promise["resolve"](![]);return t[n(241)][n(282)]({iri:f,from:p,to:d}),new Promise((async e=>{const r=n;await t["personAgendaEntryPersonCollectionHandler"][r(255)]({onDone:n=>{const t=r;if(!n)return;l[t(222)]=s[t(279)](l["calendarWeek"],n)}}),e()}))})(),E=(()=>{const n=c;if(!k||!y&&!P)return Promise[n(272)](![]);const e={start:p,end:d,role:h,tagsList:l[n(274)]?.[n(227)]};return l[n(239)]?.["isMe"]&&g&&!P&&(e[n(243)]=g),y&&!P?e["iri"]=f:(e["segment"]="filteredAppointmentsForPerson",e[n(256)]=JSON["stringify"](m),e["contextIri"]=f),t[n(258)][n(282)](e),new Promise((async e=>{const r=n;await t[r(258)][r(255)]({onDone:n=>{const t=r;if(!n)return;l[t(222)]=s["convertTodoRecipientsToCalendarWeek"](l["calendarWeek"],n,"person:default")}}),e()}))})();a["trackBackgroundLoading"]([t[c(248)][c(269)],t[c(241)][c(269)],t[c(258)]["resourceName"]]),await Promise[c(266)]([A,C,E]);const D=t[c(248)][c(252)],N=t[c(241)][c(252)],b=t["todoPersonCollectionHandler"][c(252)];return D[c(226)]>0&&(l[c(222)]=s["convertRecipientsToCalendarWeek"](l[c(222)],D,"person:default")),N[c(226)]>0&&(l[c(222)]=s[c(279)](l["calendarWeek"],N)),b["length"]>0&&(l[c(222)]=s[c(271)](l[c(222)],b,"person:default")),i[c(281)][c(222)]=l[c(222)],i[c(281)]};(function(n,t){var e=P,r=n();while(!![])try{var o=parseInt(e(307))/1*(-parseInt(e(313))/2)+-parseInt(e(303))/3+parseInt(e(306))/4+parseInt(e(320))/5*(-parseInt(e(323))/6)+-parseInt(e(324))/7*(parseInt(e(308))/8)+-parseInt(e(305))/9*(-parseInt(e(314))/10)+parseInt(e(302))/11;if(o===t)break;else r["push"](r["shift"]())}catch(s){r["push"](r["shift"]())}})(k,897871);var m=function(){var n=!![];return function(t,e){var r=n?function(){var n=P;if(e){var r=e[n(311)](t,arguments);return e=null,r}}:function(){};return n=![],r}}(),y=m(void 0,(function(){var n=P;return y[n(310)]()[n(328)](n(304))[n(310)]()["constructor"](y)[n(328)]("(((.+)+)+)+$")}));function P(n,t){var e=k();return P=function(n,t){n-=301;var r=e[n];return r},P(n,t)}y();var w=function(){var n=!![];return function(t,e){var r=n?function(){if(e){var n=e["apply"](t,arguments);return e=null,n}}:function(){};return n=![],r}}(),T=w(void 0,(function(){var n=P,t;try{var e=Function('return (function() {}.constructor("return this")( ));');t=e()}catch(u){t=window}var r=t[n(327)]=t[n(327)]||{},o=["log",n(322),n(319),n(312),n(326),n(317),n(321)];for(var s=0;s<o[n(301)];s++){var a=w[n(325)]["prototype"]["bind"](w),i=o[s],c=r[i]||a;a[n(316)]=w["bind"](w),a[n(310)]=c[n(310)][n(315)](c),r[i]=a}}));T();function k(){var n=["23538735JFaWiu","1570914YlPcis","(((.+)+)+)+$","13340583EgqCkx","4190292TmiesH","1267053BpSDva","376ojuCXM","FETCH_AGENDA_ENTRIES_IN_RANGE_BY_PERSON","toString","apply","error","2wGWtcQ","10qFnJXy","bind","__proto__","table","appointment","info","7527010wOGiBc","trace","warn","6TepMfV","70861uEjRiH","constructor","exception","console","search","length"];k=function(){return n};return k()}function _({withLivecycle:n=!![],currentInstance:t}={}){var e=P;return a({resourceName:"personAgendaEntryPerson",pagination:{query:i[e(318)][e(309)],sortier:[c("dt_start","asc")],pageSize:50,loadAllPages:!![],shouldTriggerEarlyDone:1},defaultTtl:300,defaultFetchPolicy:"cache-first",groups:["personAgendaEntry"],withLivecycle:n,currentInstance:t})}export{h as f,_ as u};
