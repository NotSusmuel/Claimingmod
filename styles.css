@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap');

:root,
:root[theme=light],
:root[theme=dark],
html.dark {
    --isy-primary: #43a92f;
    --isy-primary-glow: rgba(67, 169, 47, 0.32);
    --isy-bg-gradient: linear-gradient(150deg, #030a02 0%, #071604 35%, #11300b 72%, #1b4612 100%);
    --isy-card-bg: rgba(10, 22, 7, 0.9);
    --isy-text-dark: #e1ffdb;
    --isy-text-light: #97c58e;
    --isy-radius-lg: 20px;
    --isy-radius-md: 12px;
    --isy-shadow-sm: 0 12px 30px -20px rgba(0, 0, 0, 0.9);
    --isy-shadow-hover: 0 18px 35px -18px rgba(29, 94, 16, 0.95), 0 14px 24px -14px rgba(0, 0, 0, 0.92);
    --glass-border: 1px solid rgba(81, 126, 72, 0.16);
    --isy-border-subtle: rgba(79, 126, 70, 0.13);
    --backdrop-blur: blur(12px);
    --isy-header-bg: linear-gradient(180deg, rgba(12, 34, 8, 0.95), rgba(14, 39, 9, 0.90));
    --isy-input-bg: rgba(12, 25, 9, 0.8);
    --isy-item-hover-bg: rgba(63, 150, 45, 0.18);
    --isy-panel-bg: rgba(13, 26, 10, 0.86);
    --isy-timetable-card-border: rgba(128, 225, 109, 0.34);
    --isy-timetable-card-bg: linear-gradient(145deg, rgba(13, 36, 9, 0.97), rgba(32, 84, 22, 0.94));
    --isy-timetable-card-shadow: 0 10px 22px -16px rgba(0, 0, 0, 0.95);
    --isy-timetable-card-hover-shadow: 0 14px 26px -14px rgba(35, 109, 20, 0.95);
    --isy-indicator-glow: rgba(121, 238, 98, 0.35);

    /* Align original ISY vars from style_original.css with the same dark palette */
    --background: #081406;
    --background-contrast: #11260d;
    --background-contrast-hover: #1b3a15;
    --background-primary-weak: #12270e;
    --font-color: var(--isy-text-dark);
    --font-passive: var(--isy-text-light);
    --font-color-inverse: #030a02;
    --font-color-inverse-passive: #274721;
    --primary-color: var(--isy-primary);
    --primary-color-dark: var(--isy-primary);
    --primary-contrast: #23421d;
    --primary-secondary-color: #277817;
    --primary-weak-color: rgba(67, 169, 47, 0.18);
    --primary-passive-color: #59bf45;
    --primary-passive-color-background: rgba(67, 169, 47, 0.32);
    --primary-passive-color-background-dark: rgba(67, 169, 47, 0.32);
    --primary-passive-color-background-white: rgba(67, 169, 47, 0.2);
    --tt-lesson-normal: #265c1b;
    --tt-exam-normal: #6a2131;
    --tt-exam-partly: #7d2a3c;
    --tt-absence-normal: #522a5f;
    --tt-lesson-shifted-normal: #8c4c08;
    --tt-informative-appointment: #29591f;
    --tt-lesson-canceled: #11190f;
    --tt-appointment-manually-created: #426f39;
    --tt-appointment-registration: #368626;
    --tt-room-reserved-open: #2f5527;
    --tt-appointment-manually-created-muted: #3b6134;
    --raw-dark-background: #081406;
    --raw-dark-background-contrast: #11260d;
    --raw-dark-background-contrast-hover: #1b3a15;
    --raw-white-background: #081406;
    --raw-white-background-contrast: #11260d;
    --raw-white-background-contrast-hover: #1b3a15;
    --raw-font-color-black: #e1ffdb;
    --raw-font-color-black-passive: #97c58e;
    --raw-font-color-white: #e1ffdb;
    --raw-font-color-white-passive: #97c58e;
    --raw-white-box-shadow: -3px 10px 20px -2px rgba(0, 0, 0, 0.88);
    --raw-black-box-shadow: -3px 10px 20px -2px rgba(0, 0, 0, 0.94);
    --raw-white-weak-box-shadow: -3px 5px 14px -2px rgba(0, 0, 0, 0.82);
    --raw-black-weak-box-shadow: -3px 5px 14px -2px rgba(0, 0, 0, 0.9);
    --equal-box-shadow: 0 16px 30px -16px rgba(0, 0, 0, 0.95);
    color-scheme: dark;
}

/* Dark Mode Overrides (Explicit Class) */
html.dark {
    --isy-bg-gradient: linear-gradient(150deg, #030a02 0%, #071604 35%, #11300b 72%, #1b4612 100%);
    --isy-card-bg: rgba(10, 22, 7, 0.9);
    --isy-text-dark: #e1ffdb;
    --isy-text-light: #97c58e;
    --glass-border: 1px solid rgba(81, 126, 72, 0.16);
    --isy-shadow-sm: 0 12px 30px -20px rgba(0, 0, 0, 0.9);
    --isy-shadow-hover: 0 18px 35px -18px rgba(29, 94, 16, 0.95), 0 14px 24px -14px rgba(0, 0, 0, 0.92);
    --isy-header-bg: linear-gradient(180deg, rgba(12, 34, 8, 0.95), rgba(14, 39, 9, 0.90));
    --isy-input-bg: rgba(12, 25, 9, 0.8);
    --isy-item-hover-bg: rgba(63, 150, 45, 0.18);
}

/* Dark Mode Overrides (System Preference) */
@media (prefers-color-scheme: dark) {
    :root {
        --isy-bg-gradient: linear-gradient(150deg, #030a02 0%, #071604 35%, #11300b 72%, #1b4612 100%);
        --isy-card-bg: rgba(10, 22, 7, 0.9);
        --isy-text-dark: #e1ffdb;
        --isy-text-light: #97c58e;
        --glass-border: 1px solid rgba(81, 126, 72, 0.16);
        --isy-shadow-sm: 0 12px 30px -20px rgba(0, 0, 0, 0.9);
        --isy-shadow-hover: 0 18px 35px -18px rgba(29, 94, 16, 0.95), 0 14px 24px -14px rgba(0, 0, 0, 0.92);
        --isy-header-bg: linear-gradient(180deg, rgba(12, 34, 8, 0.95), rgba(14, 39, 9, 0.90));
        --isy-input-bg: rgba(12, 25, 9, 0.8);
        --isy-item-hover-bg: rgba(63, 150, 45, 0.18);
    }
}

/* 1. Global Reset & Body */
body {
    font-family: 'Outfit', 'Inter', sans-serif !important;
    background: var(--isy-bg-gradient) !important;
    background-attachment: fixed !important;
    color: var(--isy-text-dark) !important;
    line-height: 1.45 !important;
}

/* 2. Header Transformation - Floating & Glass */
.header {
    background: var(--isy-header-bg) !important;
    backdrop-filter: var(--backdrop-blur) !important;
    border-bottom: var(--glass-border) !important;
    border-left: var(--glass-border) !important;
    border-right: var(--glass-border) !important;
    border-bottom-left-radius: 14px !important;
    border-bottom-right-radius: 14px !important;
    box-shadow: var(--isy-shadow-sm) !important;
    margin-bottom: 16px !important;
    position: sticky !important;
    top: 0 !important;
    z-index: 50 !important;
}

.header-bottom {
    background: transparent !important;
    border-top: none !important;
    padding-bottom: 10px !important;
}

/* Navigation Buttons */
.navbar-button {
    border-radius: var(--isy-radius-md) !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    position: relative !important;
    overflow: hidden !important;
}

.navbar-button:hover {
    background: rgba(89, 191, 69, 0.18) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 8px 16px -12px var(--isy-primary) !important;
}

.navbar-button .text-lg {
    font-weight: 600 !important;
    font-size: 1.12rem !important;
    color: var(--isy-text-dark) !important;
}

.navbar-button-number {
    background-color: var(--isy-primary) !important;
    box-shadow: 0 0 10px var(--isy-primary-glow) !important;
    animation: pulse 2s infinite;
}

/* Glowing indicator bars (replaces flat primary bars from original styles) */
.navbar-button .navbar-button-border-container .navbar-button-border,
.navbar-button .navbar-button-border,
.navbar-button-border {
    background: linear-gradient(90deg, rgba(163, 247, 146, 0.7), rgba(94, 215, 70, 0.96), rgba(163, 247, 146, 0.7)) !important;
    border: none !important;
    border-radius: 999px !important;
    box-shadow: 0 0 8px -1px var(--isy-indicator-glow), 0 0 16px -5px rgba(94, 215, 70, 0.95) !important;
    opacity: 1 !important;
}

.message-info,
.form-info {
    border-left-color: rgba(102, 220, 78, 0.95) !important;
    box-shadow: inset 2px 0 0 rgba(172, 244, 157, 0.42), 0 0 12px -7px var(--isy-indicator-glow) !important;
}

.response-thread-item__content {
    border-left-color: rgba(102, 220, 78, 0.9) !important;
    box-shadow: inset 1px 0 0 rgba(172, 244, 157, 0.35), 0 0 10px -7px var(--isy-indicator-glow) !important;
}

.message-metadata-container .metadata-element .metadata-value {
    border-bottom-color: rgba(102, 220, 78, 0.85) !important;
    box-shadow: inset 0 -1px 0 rgba(102, 220, 78, 0.85), 0 2px 8px -8px var(--isy-indicator-glow) !important;
}

.calendar-week-day-header.today,
.calendar-week-day .today {
    border-radius: 10px !important;
    box-shadow: inset 0 -2px 0 rgba(139, 246, 118, 0.85), 0 6px 14px -12px rgba(80, 191, 58, 0.95) !important;
}

/* 3. Dashboard Container Cards */
.dashboard__container {
    background: var(--isy-card-bg) !important;
    backdrop-filter: var(--backdrop-blur) !important;
    border: var(--glass-border) !important;
    border-radius: var(--isy-radius-lg) !important;
    box-shadow: var(--isy-shadow-sm) !important;
    overflow: hidden !important;
    transition: transform 0.3s ease, box-shadow 0.3s ease !important;
    margin: 8px !important;
    height: calc(100% - 16px) !important;
    transform: translateY(0) !important;
}

.dashboard__container:hover {
    transform: translateY(-3px) !important;
    box-shadow: var(--isy-shadow-hover) !important;
    border-color: rgba(89, 191, 69, 0.35) !important;
}

.container-header {
    background: transparent !important;
    border-bottom: 1px solid var(--isy-border-subtle) !important;
    padding: 16px 20px !important;
}

.container-header-title {
    font-family: 'Outfit', sans-serif !important;
    font-weight: 700 !important;
    font-size: 1.25rem !important;
    color: var(--isy-primary) !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
}

/* 4. Timetable Entries */
.calendar-week-element-inner {
    border-radius: var(--isy-radius-md, 12px) !important;
    border: 1px solid var(--isy-tt-entry-border, var(--isy-timetable-card-border)) !important;
    background: var(--isy-tt-entry-bg, var(--isy-timetable-card-bg)) !important;
    box-shadow: var(--isy-tt-entry-shadow, var(--isy-timetable-card-shadow)) !important;
    color: var(--isy-tt-entry-text, #edffea) !important;
    transition: all 0.2s ease !important;
    position: relative !important;
    overflow: hidden !important;
}

/* Timetable special states from original `calendar-coloring--*` classes */
.calendar-week-element-inner.calendar-coloring--isExam,
.calendar-week-element.calendar-coloring--isExam .calendar-week-element-inner,
.calendar-week-element-inner:has(.calendar-coloring--isExam),
.calendar-week-element[data-type*="exam" i] .calendar-week-element-inner,
.calendar-week-element[class*="exam"] .calendar-week-element-inner,
.calendar-week-element[style*="--background: var(--tt-exam-normal)"] .calendar-week-element-inner,
.calendar-week-element[style*="--background:var(--tt-exam-normal)"] .calendar-week-element-inner,
.calendar-week-element-inner[class*="bg-ttExamNormal"],
.calendar-week-element-inner[class*="ttExamNormal"],
.calendar-week-element-inner[class*="tt-exam-normal"],
.calendar-week-element-inner[class*="isExam"],
.calendar-week-element-inner[class*="exam"],
.calendar-week-element-inner[style*="tt-exam-normal"] {
    --isy-tt-entry-bg: linear-gradient(145deg, rgba(88, 24, 37, 0.97), rgba(132, 38, 58, 0.95));
    --isy-tt-entry-border: rgba(243, 137, 154, 0.55);
    --isy-tt-entry-hover-shadow: 0 14px 28px -13px rgba(132, 38, 58, 0.96);
}

.calendar-week-element-inner[class*="bg-ttExamPartly"],
.calendar-week-element-inner[class*="ttExamPartly"],
.calendar-week-element-inner[class*="tt-exam-partly"],
.calendar-week-element-inner[style*="tt-exam-partly"] {
    --isy-tt-entry-bg: linear-gradient(145deg, rgba(102, 31, 46, 0.97), rgba(151, 49, 70, 0.94));
    --isy-tt-entry-border: rgba(251, 157, 174, 0.55);
    --isy-tt-entry-hover-shadow: 0 14px 28px -13px rgba(151, 49, 70, 0.96);
}

.calendar-week-element-inner.calendar-coloring--isCanceled,
.calendar-week-element.calendar-coloring--isCanceled .calendar-week-element-inner,
.calendar-week-element-inner:has(.calendar-coloring--isCanceled),
.calendar-week-element[style*="--background: var(--tt-lesson-canceled)"] .calendar-week-element-inner,
.calendar-week-element[style*="--background:var(--tt-lesson-canceled)"] .calendar-week-element-inner,
.calendar-week-element-inner[class*="ttLessonCanceled"],
.calendar-week-element-inner[class*="tt-lesson-canceled"],
.calendar-week-element-inner[class*="lesson-canceled"],
.calendar-week-element-inner[class*="lesson-cancelled"],
.calendar-week-element-inner[class*="cancelled"],
.calendar-week-element-inner[class*="canceled"],
.calendar-week-element-inner[class*="entfall"],
.calendar-week-element-inner[class*="entfaell"],
.calendar-week-element-inner[style*="tt-lesson-canceled"],
.calendar-week-element-inner:has(.line-through),
.calendar-week-element-inner:has([class*="line-through"]),
.calendar-week-element-inner:has([style*="line-through"]) {
    --isy-tt-entry-bg: linear-gradient(145deg, rgba(7, 12, 6, 0.98), rgba(20, 31, 18, 0.94));
    --isy-tt-entry-border: rgba(93, 118, 88, 0.5);
    --isy-tt-entry-text: #93ac8e;
    --isy-tt-entry-hover-shadow: 0 12px 24px -14px rgba(5, 10, 4, 0.98);
    --isy-tt-entry-sheen: linear-gradient(to bottom, rgba(149, 173, 144, 0.1), rgba(13, 22, 11, 0.08));
    border-style: dashed !important;
    filter: saturate(0.45) brightness(0.9) !important;
}

.calendar-week-element-inner.isy-tt-canceled-task-text,
.calendar-week-element-inner.calendar-coloring--isCanceled.calendar-coloring--hasRegistration,
.calendar-week-element.calendar-coloring--isCanceled.calendar-coloring--hasRegistration .calendar-week-element-inner,
.calendar-week-element-inner.calendar-coloring[style*="253, 242, 141"],
.calendar-week-element-inner.calendar-coloring[style*="253,242,141"],
.calendar-week-element-inner.calendar-coloring[style*="31, 161, 219"]:has(.line-through),
.calendar-week-element-inner.calendar-coloring[style*="31,161,219"]:has(.line-through),
.calendar-week-element-inner.calendar-coloring[style*="31, 161, 219"]:has([style*="line-through"]),
.calendar-week-element-inner.calendar-coloring[style*="31,161,219"]:has([style*="line-through"]) {
    --isy-tt-entry-bg: linear-gradient(145deg, rgba(26, 82, 15, 0.98), rgba(45, 133, 27, 0.95));
    --isy-tt-entry-border: rgba(142, 243, 122, 0.56);
    --isy-tt-entry-text: #e1ffdb;
    --isy-tt-entry-hover-shadow: 0 14px 27px -15px rgba(26, 81, 15, 0.96);
    --isy-tt-entry-sheen: linear-gradient(to bottom, rgba(182, 252, 168, 0.17), rgba(14, 45, 8, 0.1));
    border-style: dashed !important;
}

.calendar-week-element-inner.calendar-coloring--isAbsence,
.calendar-week-element.calendar-coloring--isAbsence .calendar-week-element-inner,
.calendar-week-element-inner:has(.calendar-coloring--isAbsence),
.calendar-week-element[style*="--background: var(--tt-absence-normal)"] .calendar-week-element-inner,
.calendar-week-element[style*="--background:var(--tt-absence-normal)"] .calendar-week-element-inner,
.calendar-week-element-inner[class*="tt-absence-normal"],
.calendar-week-element-inner[class*="absence"],
.calendar-week-element-inner[style*="tt-absence-normal"] {
    --isy-tt-entry-bg: linear-gradient(145deg, rgba(72, 36, 86, 0.96), rgba(92, 42, 107, 0.92));
    --isy-tt-entry-border: rgba(210, 132, 233, 0.42);
    --isy-tt-entry-hover-shadow: 0 14px 26px -15px rgba(92, 42, 107, 0.95);
}

.calendar-week-element-inner.calendar-coloring--isShifted,
.calendar-week-element-inner.calendar-coloring--isPredecessorShifted,
.calendar-week-element.calendar-coloring--isShifted .calendar-week-element-inner,
.calendar-week-element.calendar-coloring--isPredecessorShifted .calendar-week-element-inner,
.calendar-week-element-inner:has(.calendar-coloring--isShifted),
.calendar-week-element-inner:has(.calendar-coloring--isPredecessorShifted),
.calendar-week-element[style*="--background: var(--tt-lesson-shifted-normal)"] .calendar-week-element-inner,
.calendar-week-element[style*="--background:var(--tt-lesson-shifted-normal)"] .calendar-week-element-inner,
.calendar-week-element-inner[class*="tt-lesson-shifted-normal"],
.calendar-week-element-inner[class*="shifted"],
.calendar-week-element-inner[style*="tt-lesson-shifted-normal"],
.calendar-week-element-inner.calendar-coloring[style*="253, 146, 0"],
.calendar-week-element-inner.calendar-coloring[style*="253,146,0"] {
    --isy-tt-entry-bg: linear-gradient(145deg, rgba(95, 52, 8, 0.98), rgba(138, 77, 16, 0.95));
    --isy-tt-entry-border: rgba(255, 171, 85, 0.58);
    --isy-tt-entry-hover-shadow: 0 14px 26px -15px rgba(122, 67, 12, 0.96);
}

.calendar-week-element-inner.calendar-coloring--isInformativeAppointment,
.calendar-week-element.calendar-coloring--isInformativeAppointment .calendar-week-element-inner,
.calendar-week-element-inner:has(.calendar-coloring--isInformativeAppointment),
.calendar-week-element[style*="--background: var(--tt-informative-appointment)"] .calendar-week-element-inner,
.calendar-week-element[style*="--background:var(--tt-informative-appointment)"] .calendar-week-element-inner,
.calendar-week-element-inner[class*="tt-informative-appointment"],
.calendar-week-element-inner[style*="tt-informative-appointment"] {
    --isy-tt-entry-bg: linear-gradient(145deg, rgba(33, 79, 24, 0.96), rgba(43, 104, 31, 0.93));
    --isy-tt-entry-border: rgba(140, 218, 125, 0.44);
    --isy-tt-entry-hover-shadow: 0 14px 26px -15px rgba(43, 104, 31, 0.95);
}

.calendar-week-element-inner.calendar-coloring--isManuallyCreated,
.calendar-week-element.calendar-coloring--isManuallyCreated .calendar-week-element-inner,
.calendar-week-element-inner:has(.calendar-coloring--isManuallyCreated),
.calendar-week-element-inner.calendar-coloring--roomReservedButNotConfirmed,
.calendar-week-element.calendar-coloring--roomReservedButNotConfirmed .calendar-week-element-inner,
.calendar-week-element-inner:has(.calendar-coloring--roomReservedButNotConfirmed),
.calendar-week-element[style*="--background: var(--tt-appointment-manually-created)"] .calendar-week-element-inner,
.calendar-week-element[style*="--background:var(--tt-appointment-manually-created)"] .calendar-week-element-inner,
.calendar-week-element-inner[class*="tt-appointment-manually-created"],
.calendar-week-element-inner[style*="tt-appointment-manually-created"] {
    --isy-tt-entry-bg: linear-gradient(145deg, rgba(58, 103, 49, 0.95), rgba(72, 129, 61, 0.93));
    --isy-tt-entry-border: rgba(172, 246, 157, 0.42);
    --isy-tt-entry-hover-shadow: 0 14px 26px -15px rgba(72, 129, 61, 0.95);
}

.calendar-week-element[style*="--background: var(--tt-appointment-manually-created-muted)"] .calendar-week-element-inner,
.calendar-week-element[style*="--background:var(--tt-appointment-manually-created-muted)"] .calendar-week-element-inner,
.calendar-week-element-inner[class*="tt-appointment-manually-created-muted"],
.calendar-week-element-inner[style*="tt-appointment-manually-created-muted"] {
    --isy-tt-entry-bg: linear-gradient(145deg, rgba(55, 92, 47, 0.95), rgba(69, 111, 60, 0.91));
    --isy-tt-entry-border: rgba(147, 204, 135, 0.4);
    --isy-tt-entry-hover-shadow: 0 14px 26px -15px rgba(69, 111, 60, 0.95);
}

.calendar-week-element-inner.calendar-coloring--hasRegistration,
.calendar-week-element.calendar-coloring--hasRegistration .calendar-week-element-inner,
.calendar-week-element-inner:has(.calendar-coloring--hasRegistration),
.calendar-week-element[style*="--background: var(--tt-appointment-registration)"] .calendar-week-element-inner,
.calendar-week-element[style*="--background:var(--tt-appointment-registration)"] .calendar-week-element-inner,
.calendar-week-element-inner[class*="tt-appointment-registration"],
.calendar-week-element-inner[style*="tt-appointment-registration"] {
    --isy-tt-entry-bg: linear-gradient(145deg, rgba(73, 67, 39, 0.95), rgba(95, 88, 50, 0.92));
    --isy-tt-entry-border: rgba(207, 190, 121, 0.45);
    --isy-tt-entry-hover-shadow: 0 14px 26px -15px rgba(95, 88, 50, 0.95);
}

.calendar-week-element[style*="--background: var(--tt-room-reserved-open)"] .calendar-week-element-inner,
.calendar-week-element[style*="--background:var(--tt-room-reserved-open)"] .calendar-week-element-inner,
.calendar-week-element-inner[class*="tt-room-reserved-open"],
.calendar-week-element-inner[style*="tt-room-reserved-open"] {
    --isy-tt-entry-bg: linear-gradient(145deg, rgba(40, 77, 33, 0.95), rgba(51, 98, 42, 0.92));
    --isy-tt-entry-border: rgba(140, 208, 126, 0.42);
    --isy-tt-entry-hover-shadow: 0 14px 26px -15px rgba(51, 98, 42, 0.95);
}

.calendar-week-element-inner.calendar-coloring--isCollection,
.calendar-week-element.calendar-coloring--isCollection .calendar-week-element-inner,
.calendar-week-element-inner:has(.calendar-coloring--isCollection),
.calendar-week-element[style*="--background: var(--background)"] .calendar-week-element-inner,
.calendar-week-element-inner.isy-tt-special-text,
.calendar-week-element-inner.calendar-coloring[style*="211, 211, 211"],
.calendar-week-element-inner.calendar-coloring[style*="211,211,211"] {
    --isy-tt-entry-bg: linear-gradient(145deg, rgba(47, 60, 44, 0.96), rgba(64, 82, 61, 0.93));
    --isy-tt-entry-border: rgba(102, 130, 96, 0.28);
    --isy-tt-entry-hover-shadow: 0 14px 26px -15px rgba(42, 56, 39, 0.96);
    --isy-tt-entry-text: #dae8d7;
}

.calendar-week-element-inner.calendar-coloring--muted,
.calendar-week-element.calendar-coloring--muted .calendar-week-element-inner,
.calendar-week-element-inner:has(.calendar-coloring--muted),
.calendar-week-element[data-render-type="line"] .calendar-week-element-inner {
    --isy-tt-entry-border: rgba(124, 171, 114, 0.32);
    --isy-tt-entry-text: #cae8c4;
    --isy-tt-entry-sheen: linear-gradient(to bottom, rgba(170, 220, 160, 0.14), rgba(14, 31, 10, 0.1));
    filter: saturate(0.8) brightness(0.94) !important;
}

/* Homework line labels: force cyan instead of transparent */
.calendar-week-element[data-render-type="line"] .calendar-week-element-inner.single-appointment,
.calendar-week-element[data-render-type="line"] .calendar-week-element-inner.calendar-coloring.single-appointment {
    --isy-tt-entry-bg: linear-gradient(145deg, rgba(43, 255, 0, 0.9), rgba(43, 255, 0, 0.9)) !important;
    background: linear-gradient(145deg, rgba(43, 255, 0, 0.9), rgba(43, 255, 0, 0.9)) !important;
    border: 1px solid rgba(151, 255, 130, 0.9) !important;
    filter: none !important;
}

/* Fallback: color the original calendar-coloring state classes directly */
.calendar-week-element {
    --background: transparent !important;
    background: transparent !important;
    background-color: transparent !important;
    padding: 0 0.08rem !important;
}

.calendar-week-element[data-v-0b402b41],
.calendar-week-element[data-scope="day"],
.calendar-week-element[data-scope="allDay"],
.calendar-week-element[data-scope="collection"] {
    --background: transparent !important;
    background: transparent !important;
    background-color: transparent !important;
    padding: 0 0.08rem !important;
}

.calendar-week-element .calendar-week-element-inner,
.calendar-week-element .calendar-coloring,
.calendar-week-element.calendar-coloring,
.calendar-week-element[class*="calendar-coloring--"] {
    border-radius: var(--isy-radius-md, 12px) !important;
}

.time-table-scaffold .calendar-coloring--isExam,
.calendar-week-element.calendar-coloring--isExam,
.calendar-week-element .calendar-coloring--isExam,
.calendar-week-element-inner.isy-tt-exam-text,
.calendar-week-element-inner.calendar-coloring[style*="31, 161, 219"],
.calendar-week-element-inner.calendar-coloring[style*="31,161,219"],
.calendar-week-element-inner.calendar-coloring[style*="173, 226, 252"],
.calendar-week-element-inner.calendar-coloring[style*="173,226,252"] {
    background: linear-gradient(145deg, rgba(88, 24, 37, 0.97), rgba(132, 38, 58, 0.95)) !important;
    border: 1px solid rgba(243, 137, 154, 0.55) !important;
    color: #ffe8ec !important;
}

.time-table-scaffold .calendar-coloring--isAbsence,
.calendar-week-element.calendar-coloring--isAbsence,
.calendar-week-element .calendar-coloring--isAbsence,
.calendar-week-element-inner.isy-tt-absence-text {
    background: linear-gradient(145deg, rgba(72, 36, 86, 0.96), rgba(92, 42, 107, 0.92)) !important;
    border: 1px solid rgba(210, 132, 233, 0.42) !important;
}

.time-table-scaffold .calendar-coloring--isCanceled,
.calendar-week-element.calendar-coloring--isCanceled,
.calendar-week-element .calendar-coloring--isCanceled,
.calendar-week-element-inner.isy-tt-canceled-text,
.calendar-week-element-inner.calendar-coloring[style*="242, 242, 242"],
.calendar-week-element-inner.calendar-coloring[style*="242,242,242"] {
    background: linear-gradient(145deg, rgba(55, 67, 52, 0.96), rgba(78, 95, 74, 0.93)) !important;
    border: 1px dashed rgba(171, 196, 166, 0.62) !important;
    color: #e6f2e4 !important;
}

.calendar-week-element-inner.isy-tt-canceled-task-text,
.calendar-week-element.calendar-coloring--isCanceled.calendar-coloring--hasRegistration .calendar-week-element-inner,
.calendar-week-element .calendar-coloring--isCanceled.calendar-coloring--hasRegistration,
.calendar-week-element-inner.calendar-coloring[style*="253, 242, 141"],
.calendar-week-element-inner.calendar-coloring[style*="253,242,141"],
.calendar-week-element-inner.calendar-coloring[style*="31, 161, 219"]:has(.line-through),
.calendar-week-element-inner.calendar-coloring[style*="31,161,219"]:has(.line-through),
.calendar-week-element-inner.calendar-coloring[style*="31, 161, 219"]:has([style*="line-through"]),
.calendar-week-element-inner.calendar-coloring[style*="31,161,219"]:has([style*="line-through"]) {
    background: linear-gradient(145deg, rgba(65, 80, 62, 0.97), rgba(90, 110, 86, 0.94)) !important;
    border: 1px dashed rgba(180, 205, 175, 0.62) !important;
    color: #eff8ed !important;
}

.time-table-scaffold .calendar-coloring--isShifted,
.time-table-scaffold .calendar-coloring--isPredecessorShifted,
.calendar-week-element.calendar-coloring--isShifted,
.calendar-week-element.calendar-coloring--isPredecessorShifted,
.calendar-week-element .calendar-coloring--isShifted,
.calendar-week-element .calendar-coloring--isPredecessorShifted,
.calendar-week-element-inner.isy-tt-shifted-text,
.calendar-week-element-inner.calendar-coloring[style*="253, 146, 0"],
.calendar-week-element-inner.calendar-coloring[style*="253,146,0"] {
    background: linear-gradient(145deg, rgba(95, 52, 8, 0.98), rgba(138, 77, 16, 0.95)) !important;
    border: 1px solid rgba(255, 171, 85, 0.58) !important;
}

.time-table-scaffold .calendar-coloring--isInformativeAppointment,
.calendar-week-element.calendar-coloring--isInformativeAppointment,
.calendar-week-element .calendar-coloring--isInformativeAppointment {
    background: linear-gradient(145deg, rgba(33, 79, 24, 0.96), rgba(43, 104, 31, 0.93)) !important;
    border: 1px solid rgba(140, 218, 125, 0.44) !important;
}

.time-table-scaffold .calendar-coloring--isManuallyCreated,
.time-table-scaffold .calendar-coloring--roomReservedButNotConfirmed,
.calendar-week-element.calendar-coloring--isManuallyCreated,
.calendar-week-element.calendar-coloring--roomReservedButNotConfirmed,
.calendar-week-element .calendar-coloring--isManuallyCreated,
.calendar-week-element .calendar-coloring--roomReservedButNotConfirmed {
    background: linear-gradient(145deg, rgba(58, 103, 49, 0.95), rgba(72, 129, 61, 0.93)) !important;
    border: 1px solid rgba(172, 246, 157, 0.42) !important;
}

.time-table-scaffold .calendar-coloring--hasRegistration,
.calendar-week-element.calendar-coloring--hasRegistration,
.calendar-week-element .calendar-coloring--hasRegistration {
    background: linear-gradient(145deg, rgba(73, 67, 39, 0.95), rgba(95, 88, 50, 0.92)) !important;
    border: 1px solid rgba(207, 190, 121, 0.45) !important;
}

.time-table-scaffold .calendar-coloring--isCollection,
.calendar-week-element.calendar-coloring--isCollection,
.calendar-week-element .calendar-coloring--isCollection,
.calendar-week-element-inner.isy-tt-special-text,
.calendar-week-element-inner.calendar-coloring[style*="211, 211, 211"],
.calendar-week-element-inner.calendar-coloring[style*="211,211,211"] {
    background: linear-gradient(145deg, rgba(47, 60, 44, 0.96), rgba(64, 82, 61, 0.93)) !important;
    border: 1px solid rgba(102, 130, 96, 0.28) !important;
    color: #dae8d7 !important;
}

.calendar-week-element-inner.isy-tt-canceled-text .content-container span,
.calendar-week-element-inner.isy-tt-canceled-text .content-container div,
.calendar-week-element-inner.isy-tt-canceled-task-text .content-container span,
.calendar-week-element-inner.isy-tt-canceled-task-text .content-container div,
.calendar-week-element-inner.calendar-coloring--isCanceled .content-container span,
.calendar-week-element-inner.calendar-coloring--isCanceled .content-container div,
.calendar-week-element.calendar-coloring--isCanceled .content-container span,
.calendar-week-element.calendar-coloring--isCanceled .content-container div {
    text-decoration: line-through !important;
    text-decoration-thickness: 2px !important;
    text-decoration-color: rgba(199, 230, 193, 0.7) !important;
}

.calendar-week-element .calendar-week-element-inner.isy-tt-past-lesson,
.calendar-week-element-inner.calendar-coloring.isy-tt-past-lesson,
.calendar-week-element-inner.calendar-coloring.isy-tt-past-lesson[style] {
    --isy-tt-entry-hover-shadow: 0 10px 18px -14px rgba(0, 0, 0, 0.98) !important;
    filter: saturate(0.34) grayscale(0.26) brightness(0.52) contrast(0.88) !important;
}

.calendar-week-element .calendar-week-element-inner.isy-tt-past-lesson::after,
.calendar-week-element-inner.calendar-coloring.isy-tt-past-lesson::after,
.calendar-week-element-inner.calendar-coloring.isy-tt-past-lesson[style]::after {
    background: linear-gradient(to bottom, rgba(154, 172, 150, 0.1), rgba(7, 11, 6, 0.36)) !important;
}

.calendar-week-element .calendar-week-element-inner.isy-tt-past-lesson:hover,
.calendar-week-element-inner.calendar-coloring.isy-tt-past-lesson:hover,
.calendar-week-element-inner.calendar-coloring.isy-tt-past-lesson[style]:hover {
    filter: saturate(0.38) grayscale(0.24) brightness(0.58) contrast(0.9) !important;
}

.calendar-week-element-inner:hover {
    transform: scale(1.02) !important;
    z-index: 10 !important;
    box-shadow: var(--isy-tt-entry-hover-shadow, var(--isy-timetable-card-hover-shadow)) !important;
    cursor: pointer !important;
}

.calendar-week-element-inner::after {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    background: var(--isy-tt-entry-sheen, linear-gradient(to bottom, rgba(143, 224, 127, 0.2), rgba(11, 27, 8, 0.1))) !important;
    pointer-events: none !important;
}

/* 5. Messages & Campus Life List Items */
.message-preview,
.cl-preview {
    border: 1px solid transparent !important;
    border-bottom: 1px solid var(--isy-border-subtle) !important;
    padding: 16px !important;
    transition: all 0.2s ease-in-out !important;
    border-radius: 8px !important;
    margin: 4px 8px !important;
}

.message-preview:hover,
.cl-preview:hover {
    background: var(--isy-item-hover-bg) !important;
    transform: translateY(-2px) !important;
    border-color: rgba(89, 191, 69, 0.32) !important;
    box-shadow: 0 8px 16px -14px rgba(0, 0, 0, 0.78) !important;
}

.message-title p,
.cl-preview-title {
    font-weight: 600 !important;
    color: var(--isy-text-dark) !important;
    font-size: 1rem !important;
}

.left-border {
    border-radius: 8px !important;
}

.message-author span,
.cl-preview-author-container span {
    font-size: 0.8rem !important;
    color: var(--isy-text-light) !important;
}

/* 6. Inputs & Search */
.searchbar {
    background: var(--isy-input-bg) !important;
    border: 1px solid var(--isy-border-subtle) !important;
    border-radius: 50px !important;
    transition: all 0.3s ease !important;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.55) !important;
}

.searchbar:focus-within {
    background: var(--isy-card-bg) !important;
    color: var(--isy-text-dark) !important;
    box-shadow: 0 0 0 4px var(--isy-primary-glow) !important;
    border-color: var(--isy-primary) !important;
    width: 300px !important;
    /* Expansion effect */
}

/* 6b. Klassen / Raeume / Personen surfaces */
.top-filter,
.sidebar-page .top-filter {
    background: var(--isy-header-bg) !important;
    backdrop-filter: var(--backdrop-blur) !important;
    border-bottom: 1px solid var(--isy-border-subtle) !important;
}

.top-filter .filter-icon,
.sidebar-page .top-filter .filter-icon,
.sidebar-button-icon,
.sidebar-page .sidebar-button-icon,
.sidebar-button-icon i,
.sidebar-page .sidebar-button-icon i {
    color: var(--isy-text-light) !important;
}

.top-filter .filter-input,
.sidebar-page .top-filter .filter-input,
.sidebar-button-input,
.sidebar-page .sidebar-button-input {
    background: var(--isy-input-bg) !important;
    border: 1px solid var(--isy-border-subtle) !important;
    border-radius: 10px !important;
    color: var(--isy-text-dark) !important;
    padding: 0.45rem 0.65rem !important;
}

.top-filter .filter-input::placeholder,
.sidebar-page .top-filter .filter-input::placeholder,
.sidebar-button-input::placeholder,
.sidebar-page .sidebar-button-input::placeholder {
    color: var(--isy-text-light) !important;
}

div[class~="flex"][class~="items-center"][class~="box-border"][class~="p-6"][class~="border-b-2"][class~="border-b-backgroundContrast"][class~="bg-background"]:has(> .sidebar-button-input),
.sidebar-page div[class~="flex"][class~="items-center"][class~="box-border"][class~="p-6"][class~="border-b-2"][class~="border-b-backgroundContrast"][class~="bg-background"]:has(> .sidebar-button-input),
.w-full.h-sidebarTitleHeight.border-b-2.border-b-backgroundContrast.box-border.p-6.flex.justify-between.items-center,
.sidebar-page .w-full.h-sidebarTitleHeight.border-b-2.border-b-backgroundContrast.box-border.p-6.flex.justify-between.items-center {
    background: var(--isy-header-bg) !important;
    backdrop-filter: var(--backdrop-blur) !important;
    border-bottom: 1px solid var(--isy-border-subtle) !important;
}

.header-icon,
.sidebar-page .header-icon {
    color: var(--isy-text-light) !important;
}

.header-icon-active,
.sidebar-page .header-icon-active,
.text-primaryColor,
.sidebar-page .text-primaryColor {
    color: var(--isy-primary) !important;
}

[data-reka-scroll-area-viewport],
.sidebar-page [data-reka-scroll-area-viewport] {
    background: var(--isy-panel-bg) !important;
}

[data-reka-scroll-area-viewport] [class~="w-1/2"][class~="md:w-50"][class~="cursor-pointer"][class~="grow-0"][class~="shrink-0"],
.sidebar-page [data-reka-scroll-area-viewport] [class~="w-1/2"][class~="md:w-50"][class~="cursor-pointer"][class~="grow-0"][class~="shrink-0"] {
    background: var(--isy-card-bg) !important;
    border: 1px solid var(--isy-border-subtle) !important;
    border-radius: var(--isy-radius-md) !important;
    box-shadow: var(--isy-shadow-sm) !important;
    overflow: hidden !important;
    transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease !important;
}

[data-reka-scroll-area-viewport] [class~="w-1/2"][class~="md:w-50"][class~="cursor-pointer"][class~="grow-0"][class~="shrink-0"]:hover,
.sidebar-page [data-reka-scroll-area-viewport] [class~="w-1/2"][class~="md:w-50"][class~="cursor-pointer"][class~="grow-0"][class~="shrink-0"]:hover {
    transform: translateY(-2px) !important;
    border-color: rgba(144, 236, 125, 0.45) !important;
    box-shadow: var(--isy-shadow-hover) !important;
}

[data-reka-scroll-area-viewport] [class~="w-1/2"][class~="md:w-50"][class~="cursor-pointer"][class~="grow-0"][class~="shrink-0"] img,
.sidebar-page [data-reka-scroll-area-viewport] [class~="w-1/2"][class~="md:w-50"][class~="cursor-pointer"][class~="grow-0"][class~="shrink-0"] img {
    border-radius: calc(var(--isy-radius-md) - 4px) !important;
    border: 1px solid rgba(135, 184, 125, 0.28) !important;
}

a:focus-visible,
button:focus-visible,
[role="button"]:focus-visible,
input:focus-visible,
textarea:focus-visible {
    outline: 2px solid var(--isy-primary) !important;
    outline-offset: 2px !important;
    border-radius: 8px !important;
}

/* 7. Animations */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes pulse {
    0% {
        box-shadow: 0 0 0 0 rgba(89, 191, 69, 0.45);
    }

    70% {
        box-shadow: 0 0 0 6px rgba(89, 191, 69, 0);
    }

    100% {
        box-shadow: 0 0 0 0 rgba(89, 191, 69, 0);
    }
}

/* Apply staggered animation to main columns */
.dashboard-column {
    animation: fadeInUp 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) backwards !important;
}

.dashboard-column:nth-child(1) {
    animation-delay: 0.1s !important;
}

.dashboard-column:nth-child(2) {
    animation-delay: 0.2s !important;
}

.dashboard-column:nth-child(3) {
    animation-delay: 0.3s !important;
}

/* Scrollbar beautification */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: rgba(63, 150, 45, 0.75);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(89, 191, 69, 0.95);
}

/* 8. Hide "Aufgaben" Dashboard Container */
.dashboard__container.todo-container {
    display: none !important;
}

/* 9. Timetable Styling */
.time-table-scaffold {
    background: linear-gradient(180deg, rgba(7, 20, 4, 0.9), rgba(16, 44, 10, 0.88)) !important;
    border: none !important;
}

.calendar-week-day-header {
    background: var(--isy-panel-bg) !important;
    backdrop-filter: var(--backdrop-blur) !important;
    border-bottom: var(--glass-border) !important;
    color: var(--isy-text-dark) !important;
}

.calendar-week-day-header.today {
    background: linear-gradient(160deg, rgba(72, 170, 52, 0.32), rgba(39, 104, 26, 0.38)) !important;
    border: 1px solid rgba(145, 238, 126, 0.45) !important;
    border-bottom-color: rgba(145, 238, 126, 0.45) !important;
    border-radius: 10px !important;
    box-shadow: 0 8px 16px -12px rgba(57, 146, 39, 0.9) !important;
}

.calendar-week-day-header.today .cwd-header-label>span,
.calendar-week-day .today .cwd-header-label>span {
    color: #ebffe7 !important;
    font-weight: 700 !important;
}

.calendar-week-day .today::before,
.calendar-week-day .today::after {
    display: none !important;
    content: none !important;
}

.time-strip-label span {
    color: var(--isy-text-light) !important;
    font-weight: 500 !important;
}

.time-strip-label.current-time span {
    color: red !important;
}

.time-line {
    border-color: rgba(135, 184, 125, 0.18) !important;
}

.time-background .current-time {
    color: red !important;
}

.time-background .current-time::before,
.time-background .current-time::after {
    color: red !important;
    border-color: red !important;
    border-left-color: red !important;
    border-right-color: red !important;
    border-top-color: red !important;
    border-bottom-color: red !important;
}

.time-background .current-time svg,
.time-background .current-time path,
.time-background .current-time polygon {
    fill: red !important;
    stroke: red !important;
}

.time-background .time-line.current-time,
.time-line.current-time {
    border-color: red !important;
}

/* 10. Whole-site dark surface pass */
html,
body,
#app,
.app,
.desktop-wrapper,
.routing-view,
.mobile-wrapper,
.inner-page,
.sidebar-page {
    background: var(--isy-bg-gradient) !important;
    color: var(--isy-text-dark) !important;
}

.side-slide-container,
.popup-window,
.calendarlist__wrapper,
.calendarlist__list,
.actionbar,
.message-display .message-body,
.message-display .message-container .message-body-container .message-body,
.form-container,
.calendar-element,
.notification,
.time-table-scaffold .tts-header,
.time-table-scaffold .tts-footer,
.day-all-wrapper,
.day-all-column,
.day-view-scaffold,
.time-background {
    background-color: var(--isy-panel-bg) !important;
    border-color: var(--isy-border-subtle) !important;
}

.popup-container {
    background: rgba(3, 10, 2, 0.78) !important;
}

.notification {
    color: var(--isy-text-dark) !important;
    border: 1px solid var(--isy-border-subtle) !important;
    box-shadow: var(--isy-shadow-sm) !important;
}

.notification__action {
    border-left: 1px solid var(--isy-border-subtle) !important;
}

.notification__action:hover {
    background-color: var(--isy-item-hover-bg) !important;
}

.message-old-school-form-body form {
    background-color: var(--isy-card-bg) !important;
    border-color: var(--isy-border-subtle) !important;
}

.day-all-wrapper {
    border-top-color: var(--isy-border-subtle) !important;
    border-bottom-color: var(--isy-border-subtle) !important;
}

.day-all-column {
    border-left-width: 0.5px !important;
    border-left-color: var(--isy-border-subtle) !important;
}

.day-view-scaffold::before {
    background-image: repeating-linear-gradient(to right,
            rgba(79, 126, 70, 0.13) 0,
            rgba(79, 126, 70, 0.13) 0.06rem,
            transparent 0.06rem,
            transparent calc(100% / var(--calendar-week-number-of-days))) !important;
}

.scroll-indicator {
    background: var(--isy-input-bg) !important;
    color: var(--isy-text-dark) !important;
    border: 1px solid var(--isy-border-subtle) !important;
}

/* 11. Footer */
.footer,
.footer.isy-footer-themed {
    background: linear-gradient(150deg, #030a02 0%, #071604 35%, #11300b 72%, #1b4612 100%) !important;
    border-top: 1px solid var(--isy-border-subtle) !important;
    color: var(--isy-text-dark) !important;
    box-shadow: 0 -10px 22px -18px rgba(0, 0, 0, 0.95) !important;
}

.footer .declaration-label,
.footer .declaration-label:link,
.footer .declaration-label:visited {
    color: var(--isy-text-dark) !important;
}

.footer .declaration-label:hover {
    color: #c4ffb8 !important;
}

.footer .declaration-separator {
    background: rgba(196, 255, 184, 0.45) !important;
}

.footer .font-semibold[title] {
    background: rgba(34, 91, 23, 0.65) !important;
    border: 1px solid rgba(161, 241, 145, 0.35) !important;
    border-radius: 999px !important;
    color: #e2ffdc !important;
}

.footer .claimingmod-version {
    display: inline-flex !important;
    align-items: center !important;
    margin-right: 0.45rem !important;
    padding: 0.22rem 0.55rem !important;
    border-radius: 999px !important;
    border: 1px solid rgba(161, 241, 145, 0.4) !important;
    background: rgba(34, 91, 23, 0.55) !important;
    color: #e2ffdc !important;
    font-size: 1rem !important;
    font-weight: 600 !important;
    letter-spacing: 0.02em !important;
    white-space: nowrap !important;
    text-decoration: none !important;
}

/* Cached Timetable Overlay */
#isy-cached-timetable {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    opacity: 0.6;
    pointer-events: none;
    filter: blur(2px) grayscale(0.5);
    transition: opacity 0.3s ease;
}

/* Person profile detail view: keep one unified surface */
[data-v-cab99d68] {
    color: var(--isy-text-dark) !important;
}

[data-v-cab99d68].w-full.h-full.relative.bg-background {
    background: linear-gradient(180deg, rgba(11, 26, 8, 0.94), rgba(11, 26, 8, 0.94)) !important;
    border: 1px solid var(--isy-border-subtle) !important;
    border-radius: var(--isy-radius-lg) !important;
    overflow: hidden !important;
}

[data-v-cab99d68].w-full.h-full.relative.bg-background>[data-v-cab99d68].absolute.bg-background {
    background: transparent !important;
    background-color: transparent !important;
}

[data-v-cab99d68].w-full.h-full.relative.bg-background .person-metadata-container,
[data-v-cab99d68].w-full.h-full.relative.bg-background .pd-row,
[data-v-cab99d68].w-full.h-full.relative.bg-background [data-v-cab99d68].bg-background {
    background: transparent !important;
    background-color: transparent !important;
}

[data-v-cab99d68] a {
    color: var(--isy-primary) !important;
}

/* Semester absences table: stretch to full width and keep columns aligned */
[data-v-0eb0dee1] .grid.grid-flow-col.grid-cols-semesterViewColumn {
    box-sizing: border-box !important;
    grid-template-columns: minmax(12rem, 1.15fr) minmax(2.75rem, 0.45fr) repeat(6, minmax(0, 1fr)) !important;
    width: 100% !important;
    min-width: 100% !important;
    max-width: 100% !important;
}

[data-v-0eb0dee1] .grid.grid-flow-col.grid-cols-semesterViewColumn.w-full,
[data-v-0eb0dee1] .grid.grid-flow-col.grid-cols-semesterViewColumn.w-max {
    width: 100% !important;
    min-width: 100% !important;
    max-width: 100% !important;
}

[data-v-0eb0dee1] .grid.grid-flow-col.grid-cols-semesterViewColumn>* {
    min-width: 0 !important;
}

[data-v-0eb0dee1] .grid.grid-flow-col.grid-cols-semesterViewColumn.w-full> :nth-child(2) {
    margin-left: 0 !important;
    padding-left: 0.4rem !important;
    padding-right: 0.4rem !important;
    justify-content: center !important;
}

/* Auto-fit absence symbols inside each day cell */
[data-v-0eb0dee1] [data-type="absences"] .flex.w-full {
    display: flex !important;
    flex-wrap: nowrap !important;
    gap: 1px !important;
    min-width: 0 !important;
}

[data-v-0eb0dee1] [data-type="absences"] [data-message-iri] {
    flex: 1 1 0 !important;
    width: auto !important;
    min-width: 0.72rem !important;
    max-width: 1.35rem !important;
    min-height: 0.72rem !important;
    aspect-ratio: 1 / 1 !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
}

[data-v-0eb0dee1] [data-type="absences"] [data-message-iri]>div,
[data-v-0eb0dee1] [data-type="absences"] [data-message-iri]>div>div {
    width: 100% !important;
    height: 100% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
}

[data-v-0eb0dee1] [data-type="absences"] [data-message-iri] i,
[data-v-0eb0dee1] [data-type="absences"] [data-message-iri] svg {
    font-size: clamp(0.68rem, 0.95vw, 0.95rem) !important;
    width: clamp(0.68rem, 0.95vw, 0.95rem) !important;
    height: clamp(0.68rem, 0.95vw, 0.95rem) !important;
}

.footer .claimingmod-version:hover {
    color: #ffffff !important;
    border-color: rgba(198, 255, 186, 0.7) !important;
}


/* ClaimingMod timetable palette remap */
/* Lektion (dark blue gradient) */
.calendar-week-element-inner.calendar-coloring[style*="144, 172, 47"],
.calendar-week-element-inner.calendar-coloring[style*="144,172,47"],
.calendar-week-element-inner[class*="tt-lesson-normal"] {
    background: linear-gradient(145deg, rgba(21, 70, 11, 0.98), rgba(36, 110, 21, 0.95)) !important;
    border: 1px solid rgba(152, 244, 133, 0.55) !important;
    color: #ebffe7 !important;
}

/* Pr?fung (turquoise gradient) */
.time-table-scaffold .calendar-coloring--isExam,
.calendar-week-element-inner.isy-tt-exam-text,
.calendar-week-element-inner.calendar-coloring[style*="31, 161, 219"],
.calendar-week-element-inner.calendar-coloring[style*="31,161,219"] {
    background: linear-gradient(145deg, rgba(35, 118, 18, 0.97), rgba(48, 169, 24, 0.94)) !important;
    border: 1px solid rgba(160, 247, 143, 0.6) !important;
    color: #edffea !important;
}

/* Absenz (red gradient) */
.time-table-scaffold .calendar-coloring--isAbsence,
.calendar-week-element-inner.isy-tt-absence-text,
.calendar-week-element-inner.calendar-coloring[style*="241, 55, 130"],
.calendar-week-element-inner.calendar-coloring[style*="241,55,130"] {
    background: linear-gradient(145deg, rgba(125, 24, 35, 0.97), rgba(179, 39, 53, 0.94)) !important;
    border: 1px solid rgba(255, 159, 170, 0.6) !important;
    color: #ffeef1 !important;
}

/* Lektion verschoben (orange gradient) */
.time-table-scaffold .calendar-coloring--isShifted,
.time-table-scaffold .calendar-coloring--isPredecessorShifted,
.calendar-week-element-inner.isy-tt-shifted-text,
.calendar-week-element-inner.calendar-coloring[style*="253, 146, 0"],
.calendar-week-element-inner.calendar-coloring[style*="253,146,0"] {
    background: linear-gradient(145deg, rgba(132, 70, 10, 0.98), rgba(188, 104, 20, 0.95)) !important;
    border: 1px solid rgba(255, 191, 122, 0.62) !important;
    color: #fff4e6 !important;
}

/* Lektion ausgefallen (gray gradient + white cross) */
.time-table-scaffold .calendar-coloring--isCanceled,
.calendar-week-element-inner.isy-tt-canceled-text,
.calendar-week-element-inner.isy-tt-canceled-task-text,
.calendar-week-element-inner.calendar-coloring[style*="242, 242, 242"],
.calendar-week-element-inner.calendar-coloring[style*="242,242,242"] {
    background: linear-gradient(145deg, rgba(81, 95, 78, 0.96), rgba(108, 129, 104, 0.93)) !important;
    border: 1px dashed rgba(146, 175, 140, 0.40) !important;
    color: #f4fcf3 !important;
    position: relative !important;
}

.time-table-scaffold .calendar-coloring--isCanceled::before,
.time-table-scaffold .calendar-coloring--isCanceled::after,
.calendar-week-element-inner.isy-tt-canceled-text::before,
.calendar-week-element-inner.isy-tt-canceled-text::after,
.calendar-week-element-inner.isy-tt-canceled-task-text::before,
.calendar-week-element-inner.isy-tt-canceled-task-text::after {
    content: "" !important;
    position: absolute !important;
    left: 6% !important;
    right: 6% !important;
    top: 50% !important;
    height: 2px !important;
    background: rgba(255, 255, 255, 0.82) !important;
    pointer-events: none !important;
    z-index: 2 !important;
}

.time-table-scaffold .calendar-coloring--isCanceled::before,
.calendar-week-element-inner.isy-tt-canceled-text::before,
.calendar-week-element-inner.isy-tt-canceled-task-text::before {
    transform: rotate(26deg) !important;
}

.time-table-scaffold .calendar-coloring--isCanceled::after,
.calendar-week-element-inner.isy-tt-canceled-text::after,
.calendar-week-element-inner.isy-tt-canceled-task-text::after {
    transform: rotate(-26deg) !important;
}

/* Manuell erfasster Termin (light blue gradient) */
.time-table-scaffold .calendar-coloring--isManuallyCreated,
.calendar-week-element.calendar-coloring--isManuallyCreated,
.calendar-week-element-inner.calendar-coloring[style*="213, 166, 228"] {
    background: linear-gradient(145deg, rgba(136, 236, 116, 0.97), rgba(165, 246, 149, 0.94)) !important;
    border: 1px solid rgba(228, 255, 223, 0.74) !important;
    color: #1b570f !important;
}

/* Termin mit Registrierung (light blue gradient + dotted outline) */
.time-table-scaffold .calendar-coloring--hasRegistration,
.calendar-week-element.calendar-coloring--hasRegistration,
.calendar-week-element-inner.calendar-coloring[style*="253, 242, 141"],
.calendar-week-element-inner.calendar-coloring[style*="253,242,141"] {
    background: linear-gradient(145deg, rgba(133, 236, 112, 0.97), rgba(160, 245, 143, 0.94)) !important;
    border: 2px dotted rgba(229, 255, 224, 0.8) !important;
    color: #19520e !important;
}

/* Raum reserviert, aber noch nicht best?tigt (light blue gradient) */
.time-table-scaffold .calendar-coloring--roomReservedButNotConfirmed,
.calendar-week-element.calendar-coloring--roomReservedButNotConfirmed,
.calendar-week-element-inner.calendar-coloring[style*="211, 211, 211"],
.calendar-week-element-inner.calendar-coloring[style*="211,211,211"] {
    background: linear-gradient(145deg, rgba(140, 240, 120, 0.96), rgba(166, 248, 150, 0.93)) !important;
    border: 1px solid rgba(230, 255, 225, 0.72) !important;
    color: #1c5d0f !important;
}

/* Termin zur Kenntnis (brown gradient) */
.time-table-scaffold .calendar-coloring--isInformativeAppointment,
.calendar-week-element.calendar-coloring--isInformativeAppointment,
.calendar-week-element-inner.calendar-coloring[style*="166, 148, 115"],
.calendar-week-element-inner.calendar-coloring[style*="166,148,115"] {
    background: linear-gradient(145deg, rgba(109, 84, 52, 0.96), rgba(141, 111, 72, 0.93)) !important;
    border: 1px solid rgba(214, 184, 140, 0.66) !important;
    color: #fff6e8 !important;
}

/* Externer Kalendertermin (brown gradient + dotted outline) */
.calendar-week-element-inner[class*="external"],
.calendar-week-element-inner[class*="extern"],
.calendar-week-element-inner.calendar-coloring[style*="227, 203, 168"],
.calendar-week-element-inner.calendar-coloring[style*="227,203,168"] {
    background: linear-gradient(145deg, rgba(124, 95, 60, 0.96), rgba(156, 123, 83, 0.93)) !important;
    border: 2px dotted rgba(230, 202, 160, 0.8) !important;
    color: #fff7ec !important;
}

/* Aufgabe (cyan gradient) */
.calendar-week-element-inner.calendar-coloring[style*="0, 255, 255"],
.calendar-week-element-inner.calendar-coloring[style*="0,255,255"],
.calendar-week-element-inner[class*="task"],
.calendar-week-element-inner[class*="aufgabe"] {
    background: linear-gradient(145deg, rgba(37, 159, 13, 0.97), rgba(56, 214, 24, 0.94)) !important;
    border: 1px solid rgba(178, 255, 163, 0.72) !important;
    color: #0d3305 !important;
}

/* Offener Unterricht icon */
.color-key-popup .color-key-element .icon,
.color-key-popup .color-key-element .icon svg {
    color: #ecffe8 !important;
    fill: #ecffe8 !important;
}

/* Legend remap (same order as ISY list) */
.color-key-popup .color-key-list .color-key-element:nth-child(1) .color {
    background: linear-gradient(145deg, rgba(21, 70, 11, 0.98), rgba(36, 110, 21, 0.95)) !important;
}

.color-key-popup .color-key-list .color-key-element:nth-child(2) .color {
    background: linear-gradient(145deg, rgba(35, 118, 18, 0.97), rgba(48, 169, 24, 0.94)) !important;
}

.color-key-popup .color-key-list .color-key-element:nth-child(3) .color {
    background: linear-gradient(145deg, rgba(125, 24, 35, 0.97), rgba(179, 39, 53, 0.94)) !important;
}

.color-key-popup .color-key-list .color-key-element:nth-child(4) .color {
    background: linear-gradient(145deg, rgba(132, 70, 10, 0.98), rgba(188, 104, 20, 0.95)) !important;
}

.color-key-popup .color-key-list .color-key-element:nth-child(5) .custom-element {
    background: linear-gradient(145deg, rgba(81, 95, 78, 0.96), rgba(108, 129, 104, 0.93)) !important;
    border: 1px dashed rgba(146, 175, 140, 0.40) !important;
}

.color-key-popup .color-key-list .color-key-element:nth-child(5) .diagonal1,
.color-key-popup .color-key-list .color-key-element:nth-child(5) .diagonal2 {
    background: rgba(255, 255, 255, 0.86) !important;
}

.color-key-popup .color-key-list .color-key-element:nth-child(6) .color {
    background: linear-gradient(145deg, rgba(136, 236, 116, 0.97), rgba(165, 246, 149, 0.94)) !important;
}

.color-key-popup .color-key-list .color-key-element:nth-child(7) .color {
    background: linear-gradient(145deg, rgba(133, 236, 112, 0.97), rgba(160, 245, 143, 0.94)) !important;
    border: 2px dotted rgba(229, 255, 224, 0.8) !important;
}

.color-key-popup .color-key-list .color-key-element:nth-child(8) .color {
    background: linear-gradient(145deg, rgba(140, 240, 120, 0.96), rgba(166, 248, 150, 0.93)) !important;
}

.color-key-popup .color-key-list .color-key-element:nth-child(9) .color {
    background: linear-gradient(145deg, rgba(109, 84, 52, 0.96), rgba(141, 111, 72, 0.93)) !important;
}

.color-key-popup .color-key-list .color-key-element:nth-child(10) .color {
    background: linear-gradient(145deg, rgba(124, 95, 60, 0.96), rgba(156, 123, 83, 0.93)) !important;
    border: 2px dotted rgba(230, 202, 160, 0.8) !important;
}

.color-key-popup .color-key-list .color-key-element:nth-child(11) .color {
    background: linear-gradient(145deg, rgba(37, 159, 13, 0.97), rgba(56, 214, 24, 0.94)) !important;
}


/* ClaimingMod palette intensity pass: stronger gradients without changing text color */
.calendar-week-element-inner.calendar-coloring,
.calendar-week-element-inner[class*="isy-tt-"],
.calendar-week-element .calendar-week-element-inner {
    box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.1),
        inset 0 12px 22px rgba(255, 255, 255, 0.04),
        inset 0 -24px 34px rgba(0, 0, 0, 0.34),
        var(--isy-tt-entry-shadow, 0 10px 22px -16px rgba(0, 0, 0, 0.95)) !important;
}

.color-key-popup .color-key-element .color,
.color-key-popup .color-key-element .custom-element {
    filter: saturate(1.24) brightness(0.8) contrast(1.16) !important;
    box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.12),
        inset 0 -14px 22px rgba(0, 0, 0, 0.28) !important;
}


/* ClaimingMod full asset normalization (catch remaining standard/light assets) */
body.ClaimingMod-enabled,
body.ClaimingMod-enabled #app,
body.ClaimingMod-enabled .app,
body.ClaimingMod-enabled .routing-view,
body.ClaimingMod-enabled .inner-page,
body.ClaimingMod-enabled .sidebar-page {
    color-scheme: dark !important;
}

body.ClaimingMod-enabled .button,
body.ClaimingMod-enabled .flat-button,
body.ClaimingMod-enabled .icon-button,
body.ClaimingMod-enabled .seamless,
body.ClaimingMod-enabled button,
body.ClaimingMod-enabled [role="button"] {
    background: linear-gradient(145deg, rgba(19, 44, 14, 0.94), rgba(32, 74, 24, 0.92)) !important;
    border-color: rgba(88, 146, 76, 0.22) !important;
    color: var(--isy-text-dark) !important;
}

body.ClaimingMod-enabled input,
body.ClaimingMod-enabled select,
body.ClaimingMod-enabled textarea,
body.ClaimingMod-enabled .text-input,
body.ClaimingMod-enabled .range-slider {
    background: rgba(13, 30, 10, 0.88) !important;
    border-color: rgba(88, 146, 76, 0.20) !important;
    color: var(--isy-text-dark) !important;
}

body.ClaimingMod-enabled .popup-window,
body.ClaimingMod-enabled .modal,
body.ClaimingMod-enabled .dropdown,
body.ClaimingMod-enabled .notification,
body.ClaimingMod-enabled .calendar-element,
body.ClaimingMod-enabled .calendarlist__wrapper,
body.ClaimingMod-enabled .calendarlist__list,
body.ClaimingMod-enabled .side-slide-container {
    background: linear-gradient(160deg, rgba(11, 28, 8, 0.96), rgba(23, 56, 16, 0.94)) !important;
    border-color: rgba(88, 146, 76, 0.20) !important;
    color: var(--isy-text-dark) !important;
}

body.ClaimingMod-enabled i.isy,
body.ClaimingMod-enabled .material-symbols-outlined,
body.ClaimingMod-enabled svg {
    color: #e2ffdc !important;
}

/* Keep status icons meaningful */
body.ClaimingMod-enabled i.isy_absences_check,
body.ClaimingMod-enabled .isy_absences_check {
    color: #8de1b3 !important;
}

body.ClaimingMod-enabled .isy_absences_cross,
body.ClaimingMod-enabled .isy_absences_remove,
body.ClaimingMod-enabled .isy_absences_cancel {
    color: #ff9aa8 !important;
}

/* Normalize legacy logo/image assets so blue-on-light variants don't clash */
body.ClaimingMod-enabled img[src*="isy-logo-rgb_blue"],
body.ClaimingMod-enabled img[src*="isy-logo-rgb_white"],
body.ClaimingMod-enabled img[src*="logo"] {
    filter: brightness(1.08) saturate(0.86) contrast(1.05) !important;
}

/* Hard fallback for any light backgrounds left by upstream classes */
body.ClaimingMod-enabled .bg-white,
body.ClaimingMod-enabled [class*="bg-white"],
body.ClaimingMod-enabled [class*="background-white"],
body.ClaimingMod-enabled [style*="background: rgb(255"],
body.ClaimingMod-enabled [style*="background-color: rgb(255"] {
    background-color: rgba(13, 30, 10, 0.9) !important;
    color: var(--isy-text-dark) !important;
}


/* ClaimingMod token bridge for UI parts still using default utility tokens */
body.ClaimingMod-enabled {
    /* Utility classes in original ISY css use hsl(var(--token)); keep tokens in HSL triplet format */
    --background: 110 47% 9% !important;
    --foreground: 110 100% 94% !important;
    --card: 110 44% 13% !important;
    --card-foreground: 110 100% 94% !important;
    --popover: 110 44% 13% !important;
    --popover-foreground: 110 100% 94% !important;
    --primary: 110 70% 56% !important;
    --primary-foreground: 110 100% 97% !important;
    --secondary: 110 46% 23% !important;
    --secondary-foreground: 110 100% 95% !important;
    --muted: 110 47% 20% !important;
    --muted-foreground: 110 58% 79% !important;
    --accent: 110 45% 28% !important;
    --accent-foreground: 110 100% 96% !important;
    --destructive: 353 52% 47% !important;
    --destructive-foreground: 345 100% 97% !important;
    --border: 110 24% 24% !important;
    --input: 110 28% 22% !important;
    --ring: 110 70% 71% !important;
}

/* Specific side filter sheet (Zeitraum- und Filterauswahl) */
body.ClaimingMod-enabled [data-v-d18ebabc].bg-backgroundContrast {
    background: linear-gradient(160deg, rgba(13, 30, 9, 0.98), rgba(26, 61, 19, 0.96)) !important;
    color: var(--isy-text-dark) !important;
    border-left: 1px solid rgba(92, 154, 80, 0.20) !important;
    box-shadow: -10px 0 24px -16px rgba(0, 0, 0, 0.95), 0 0 0 1px rgba(92, 154, 80, 0.10) inset !important;
}

body.ClaimingMod-enabled [data-v-d18ebabc] [data-v-98694fd9],
body.ClaimingMod-enabled [data-v-d18ebabc] [data-v-98694fd9] * {
    color: var(--isy-text-dark) !important;
}

body.ClaimingMod-enabled [data-v-d18ebabc] button,
body.ClaimingMod-enabled [data-v-d18ebabc] .inline-flex,
body.ClaimingMod-enabled [data-v-d18ebabc] [class*="bg-background"],
body.ClaimingMod-enabled [data-v-d18ebabc] [class*="bg-secondary"],
body.ClaimingMod-enabled [data-v-d18ebabc] [class*="bg-primary"] {
    border-color: rgba(92, 154, 80, 0.20) !important;
}

body.ClaimingMod-enabled [data-v-d18ebabc] .bg-background,
body.ClaimingMod-enabled [data-v-d18ebabc] [class~="bg-background"] {
    background: rgba(19, 42, 14, 0.92) !important;
}

body.ClaimingMod-enabled [data-v-d18ebabc] .bg-secondary,
body.ClaimingMod-enabled [data-v-d18ebabc] [class~="bg-secondary"] {
    background: rgba(40, 82, 31, 0.9) !important;
    color: #edffea !important;
}

body.ClaimingMod-enabled [data-v-d18ebabc] .bg-primary,
body.ClaimingMod-enabled [data-v-d18ebabc] [class~="bg-primary"] {
    background: linear-gradient(145deg, rgba(61, 146, 44, 0.96), rgba(78, 184, 57, 0.94)) !important;
    color: #f0ffed !important;
}

body.ClaimingMod-enabled [data-v-d18ebabc] .hover\:bg-accent:hover,
body.ClaimingMod-enabled [data-v-d18ebabc] [class*="hover:bg-accent"]:hover,
body.ClaimingMod-enabled [data-v-d18ebabc] .hover\:bg-primary\/90:hover {
    background: rgba(57, 117, 45, 0.9) !important;
    color: #f3fff1 !important;
}

body.ClaimingMod-enabled [data-v-d18ebabc] .bg-border,
body.ClaimingMod-enabled [data-v-d18ebabc] [class~="bg-border"] {
    background: rgba(96, 158, 84, 0.20) !important;
}


/* Generic utility-theme remap for shadcn/tw components that still look "standard" */
body.ClaimingMod-enabled .bg-background {
    background-color: hsl(var(--background)) !important;
}

body.ClaimingMod-enabled .bg-popover,
body.ClaimingMod-enabled .bg-card {
    background-color: hsl(var(--card)) !important;
}

body.ClaimingMod-enabled .bg-secondary {
    background-color: hsl(var(--secondary)) !important;
}

body.ClaimingMod-enabled .bg-muted {
    background-color: hsl(var(--muted)) !important;
}

body.ClaimingMod-enabled .bg-primary {
    background: linear-gradient(145deg, rgba(61, 146, 44, 0.96), rgba(78, 184, 57, 0.94)) !important;
}

body.ClaimingMod-enabled .text-foreground,
body.ClaimingMod-enabled .text-card-foreground,
body.ClaimingMod-enabled .text-popover-foreground,
body.ClaimingMod-enabled .text-secondary-foreground,
body.ClaimingMod-enabled .text-muted-foreground {
    color: hsl(var(--foreground)) !important;
}

body.ClaimingMod-enabled .border-input,
body.ClaimingMod-enabled .border-border,
body.ClaimingMod-enabled .border,
body.ClaimingMod-enabled .border-b,
body.ClaimingMod-enabled .border-t,
body.ClaimingMod-enabled .border-l,
body.ClaimingMod-enabled .border-r {
    border-color: hsl(var(--border)) !important;
}


/* Timetable top controls: remove button backgrounds (back/forward, current date, help) */
body.ClaimingMod-enabled .time-table-scaffold .tts-header button,
body.ClaimingMod-enabled .time-table-scaffold .tts-header .current-week-button,
body.ClaimingMod-enabled .time-table-scaffold .tts-header .h-12.rounded,
body.ClaimingMod-enabled .time-table-scaffold .tts-header button:has(.fa-circle-question),
body.ClaimingMod-enabled .time-table-scaffold .tts-header button:has(.isy_back),
body.ClaimingMod-enabled .time-table-scaffold .tts-header button:has(.isy_to_appointment),
body.ClaimingMod-enabled .time-table-scaffold .tts-header button:has(.isy_forward) {
    background: transparent !important;
    background-color: transparent !important;
    box-shadow: none !important;
    border-color: transparent !important;
}

body.ClaimingMod-enabled .time-table-scaffold .tts-header button:hover,
body.ClaimingMod-enabled .time-table-scaffold .tts-header button:active,
body.ClaimingMod-enabled .time-table-scaffold .tts-header button:focus-visible,
body.ClaimingMod-enabled .time-table-scaffold .tts-header .current-week-button:hover,
body.ClaimingMod-enabled .time-table-scaffold .tts-header .current-week-button:active {
    background: transparent !important;
    background-color: transparent !important;
    box-shadow: none !important;
}


/* Explicit help icon button override (kept transparent in all states) */
body.ClaimingMod-enabled button[data-v-65831265].h-12.rounded,
body.ClaimingMod-enabled button.h-12.rounded.text-xl.text-fontColor.ml-1,
body.ClaimingMod-enabled button.print\:hidden.h-12.rounded,
body.ClaimingMod-enabled button:has(.fa-circle-question) {
    background: transparent !important;
    background-color: transparent !important;
    box-shadow: none !important;
    border: 0 !important;
}

body.ClaimingMod-enabled button[data-v-65831265].h-12.rounded:hover,
body.ClaimingMod-enabled button[data-v-65831265].h-12.rounded:active,
body.ClaimingMod-enabled button[data-v-65831265].h-12.rounded:focus,
body.ClaimingMod-enabled button[data-v-65831265].h-12.rounded:focus-visible,
body.ClaimingMod-enabled button.h-12.rounded.text-xl.text-fontColor.ml-1:hover,
body.ClaimingMod-enabled button.h-12.rounded.text-xl.text-fontColor.ml-1:active,
body.ClaimingMod-enabled button.h-12.rounded.text-xl.text-fontColor.ml-1:focus-visible,
body.ClaimingMod-enabled button:has(.fa-circle-question):hover,
body.ClaimingMod-enabled button:has(.fa-circle-question):active,
body.ClaimingMod-enabled button:has(.fa-circle-question):focus-visible {
    background: transparent !important;
    background-color: transparent !important;
    box-shadow: none !important;
    border: 0 !important;
}


/* Profile button: only bottom-left corner rounded */
body.ClaimingMod-enabled .profile-button[data-v-65831265] {
    border-bottom-left-radius: 14px !important;
}


/* Keep navbar hover glow visible (avoid clipping at top edge) */
body.ClaimingMod-enabled .header-bottom {
    overflow-y: visible !important;
    overflow-x: auto !important;
    padding-top: 4px !important;
    margin-top: -4px !important;
}


/* Absence/appointment preview cards: darken bright gray reservation-like entries */
body.ClaimingMod-enabled .appointment-preview,
body.ClaimingMod-enabled .appointment-preview.calendar-coloring {
    --background: 110 46% 11% !important;
    background: linear-gradient(150deg, rgba(13, 30, 9, 0.98), rgba(18, 44, 13, 0.96)) !important;
    background-color: rgba(14, 34, 10, 0.97) !important;
    border: 1px solid rgba(123, 198, 108, 0.34) !important;
    box-shadow: 0 16px 34px -18px rgba(4, 15, 2, 0.95) !important;
    color: #e8ffe4 !important;
}

body.ClaimingMod-enabled .appointment-preview *,
body.ClaimingMod-enabled .appointment-preview .text-xl,
body.ClaimingMod-enabled .appointment-preview p,
body.ClaimingMod-enabled .appointment-preview span,
body.ClaimingMod-enabled .appointment-preview div {
    color: #e8ffe4 !important;
}

body.ClaimingMod-enabled .appointment-preview.calendar-coloring[style*="211, 211, 211"],
body.ClaimingMod-enabled .appointment-preview.calendar-coloring[style*="211,211,211"] {
    background: linear-gradient(145deg, rgba(62, 80, 58, 0.96), rgba(81, 104, 76, 0.93)) !important;
    border-color: rgba(109, 141, 102, 0.35) !important;
    color: #ddf1d9 !important;
}

body.ClaimingMod-enabled .appointment-preview.calendar-coloring[style*="211, 211, 211"] .text-xl,
body.ClaimingMod-enabled .appointment-preview.calendar-coloring[style*="211,211,211"] .text-xl,
body.ClaimingMod-enabled .appointment-preview.calendar-coloring[style*="211, 211, 211"] p,
body.ClaimingMod-enabled .appointment-preview.calendar-coloring[style*="211,211,211"] p {
    color: #ddf1d9 !important;
}


/* Side menu borders: reduce thickness */
body.ClaimingMod-enabled .side-slide-container,
body.ClaimingMod-enabled .my-profile,
body.ClaimingMod-enabled .my-profile-body,
body.ClaimingMod-enabled .profile-container,
body.ClaimingMod-enabled .my-profile-footer,
body.ClaimingMod-enabled .my-profile .header {
    border-width: 1px !important;
}

body.ClaimingMod-enabled .my-profile .header,
body.ClaimingMod-enabled .my-profile-footer,
body.ClaimingMod-enabled .profile-container {
    border-top-width: 1px !important;
    border-bottom-width: 1px !important;
}


/* Slightly darken lessons globally in ClaimingMod without changing text color */
body.ClaimingMod-enabled .calendar-week-element-inner.calendar-coloring,
body.ClaimingMod-enabled .calendar-week-element .calendar-week-element-inner.calendar-coloring {
    box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.06),
        inset 0 -28px 38px rgba(0, 0, 0, 0.40),
        var(--isy-tt-entry-shadow, 0 10px 22px -16px rgba(0, 0, 0, 0.95)) !important;
}

/* Sidebar in timetable/agenda: make outlines thinner and less aggressive */
body.ClaimingMod-enabled .sidebar[data-v-a21e0373],
body.ClaimingMod-enabled .sidebar-header[data-v-a21e0373],
body.ClaimingMod-enabled .sidebar-content-wrapper[data-v-a21e0373],
body.ClaimingMod-enabled .sidebar-button[data-v-dede7c43],
body.ClaimingMod-enabled .sidebar-button.selected[data-v-dede7c43],
body.ClaimingMod-enabled .sidebar-inner-button[data-v-dede7c43] {
    border-width: 1px !important;
}

body.ClaimingMod-enabled .sidebar[data-v-a21e0373],
body.ClaimingMod-enabled .sidebar-header[data-v-a21e0373],
body.ClaimingMod-enabled .sidebar-button[data-v-dede7c43],
body.ClaimingMod-enabled .sidebar-content-wrapper[data-v-a21e0373] {
    border-color: hsl(var(--border) / 0.55) !important;
}


/* Remove icon tile outlines in sidebar completely */
body.ClaimingMod-enabled .sidebar-button[data-v-dede7c43],
body.ClaimingMod-enabled .sidebar-button.selected[data-v-dede7c43],
body.ClaimingMod-enabled .sidebar-inner-button[data-v-dede7c43] {
    border: 0 !important;
    outline: 0 !important;
    box-shadow: none !important;
}


/* Priority circles in messages/forms: keep visible with Claiming token bridge */
body.ClaimingMod-enabled .priority__circle[data-v-83289acc] {
    border-style: solid !important;
    border-width: 1.75px !important;
    background-color: transparent !important;
}

body.ClaimingMod-enabled .priority__circle.circle--normal[data-v-83289acc] {
    border-color: var(--priority-color-normal, #8ce87a) !important;
}

body.ClaimingMod-enabled .priority__circle.circle--high[data-v-83289acc] {
    border-color: var(--priority-color-high, #f2c14f) !important;
}

body.ClaimingMod-enabled .priority__circle.circle--urgent[data-v-83289acc] {
    border-color: var(--priority-color-urgent, #e97a4b) !important;
}

body.ClaimingMod-enabled .priority__circle.circle--exception[data-v-83289acc] {
    border-color: var(--priority-color-exception, #d65b6d) !important;
}

body.ClaimingMod-enabled .priority__circle.circle--filled-normal[data-v-83289acc] {
    background-color: var(--priority-color-normal, #8ce87a) !important;
}

body.ClaimingMod-enabled .priority__circle.circle--filled-high[data-v-83289acc] {
    background-color: var(--priority-color-high, #f2c14f) !important;
}

body.ClaimingMod-enabled .priority__circle.circle--filled-urgent[data-v-83289acc] {
    background-color: var(--priority-color-urgent, #e97a4b) !important;
}

body.ClaimingMod-enabled .priority__circle.circle--filled-exception[data-v-83289acc] {
    background-color: var(--priority-color-exception, #d65b6d) !important;
}


/* Remove gap under top header block */
body.ClaimingMod-enabled .header {
    margin-bottom: 0 !important;
}


/* Split header and timetable menu with distinct gradients */
body.ClaimingMod-enabled .header-top {
    background: linear-gradient(180deg, rgba(11, 34, 7, 0.97), rgba(16, 44, 10, 0.93)) !important;
}

body.ClaimingMod-enabled .header-bottom {
    background: linear-gradient(180deg, rgba(18, 50, 11, 0.96), rgba(21, 58, 14, 0.93)) !important;
    border-top: 1px solid rgba(77, 132, 66, 0.24) !important;
    border-bottom: 1px solid rgba(66, 119, 55, 0.20) !important;
}


/* Top menu: subtle bottom border + soft glow */
body.ClaimingMod-enabled .header-bottom {
    border-bottom: 1px solid rgba(113, 196, 96, 0.32) !important;
    box-shadow: 0 1px 0 rgba(148, 228, 132, 0.16), 0 8px 18px -16px rgba(106, 196, 88, 0.55) !important;
}


/* People detail mini-tab row: transparent buttons, consistent size + alignment */
body.ClaimingMod-enabled .flex.print\:hidden:has(> a > button.seamless.noLabel[data-v-fe6f1f85]),
body.ClaimingMod-enabled .flex.print\:hidden:has(> div > button.seamless.noLabel[data-v-fe6f1f85]) {
    align-items: center !important;
    gap: 0.35rem !important;
}

body.ClaimingMod-enabled .flex.print\:hidden>a:has(> button.seamless.noLabel[data-v-fe6f1f85]),
body.ClaimingMod-enabled .flex.print\:hidden>div:has(> button.seamless.noLabel[data-v-fe6f1f85]) {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    height: 2.7rem !important;
}

body.ClaimingMod-enabled .flex.print\:hidden>a>button.seamless.noLabel[data-v-fe6f1f85],
body.ClaimingMod-enabled .flex.print\:hidden>div>button.seamless.noLabel[data-v-fe6f1f85] {
    width: 2.7rem !important;
    min-width: 2.7rem !important;
    height: 2.7rem !important;
    min-height: 2.7rem !important;
    padding: 0 !important;
    margin: 0 !important;
    border: 1px solid transparent !important;
    border-radius: 10px !important;
    background: transparent !important;
    background-color: transparent !important;
    box-shadow: none !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
}

body.ClaimingMod-enabled .flex.print\:hidden>a>button.seamless.noLabel[data-v-fe6f1f85] .icon,
body.ClaimingMod-enabled .flex.print\:hidden>div>button.seamless.noLabel[data-v-fe6f1f85] .icon,
body.ClaimingMod-enabled .flex.print\:hidden>a>button.seamless.noLabel[data-v-fe6f1f85] i.isy,
body.ClaimingMod-enabled .flex.print\:hidden>div>button.seamless.noLabel[data-v-fe6f1f85] i.isy,
body.ClaimingMod-enabled .flex.print\:hidden>a>button.seamless.noLabel[data-v-fe6f1f85] svg,
body.ClaimingMod-enabled .flex.print\:hidden>div>button.seamless.noLabel[data-v-fe6f1f85] svg {
    width: 1.35rem !important;
    height: 1.35rem !important;
    min-width: 1.35rem !important;
    min-height: 1.35rem !important;
    line-height: 1 !important;
    font-size: 1.35rem !important;
    margin: 0 !important;
}


/* Fallback without :has for profile detail tab row */
body.ClaimingMod-enabled [data-v-cab99d68] .flex.print\:hidden {
    align-items: center !important;
    gap: 0.35rem !important;
}

body.ClaimingMod-enabled [data-v-cab99d68] .flex.print\:hidden>a,
body.ClaimingMod-enabled [data-v-cab99d68] .flex.print\:hidden>div {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    height: 2.7rem !important;
}


/* Timetable hover tooltip (tippy) */
body.ClaimingMod-enabled .tippy-box[data-theme~="isy"] {
    background: linear-gradient(150deg, rgba(13, 30, 9, 0.98), rgba(18, 44, 13, 0.96)) !important;
    border: 1px solid rgba(123, 198, 108, 0.36) !important;
    color: #eaffe6 !important;
    box-shadow: 0 16px 34px -18px rgba(4, 15, 2, 0.95) !important;
}

body.ClaimingMod-enabled .tippy-box[data-theme~="isy"] .tippy-content {
    color: #eaffe6 !important;
}

body.ClaimingMod-enabled .tippy-box[data-theme~="isy"]>.tippy-arrow {
    color: rgba(15, 37, 11, 0.98) !important;
}